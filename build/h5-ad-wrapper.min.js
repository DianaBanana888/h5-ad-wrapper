!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.H5AdWrapper=t():e.H5AdWrapper=t()}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){var i,o,a,r=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});i=[n,t,n(1),n(2),n(1),n(3),n(4),n(5),n(6)],void 0===(o=function(e,t,n,i,o,a,s,d,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CocoonAds=o.CocoonAds,t.CordovaGameDistribution=a.CordovaGameDistribution,t.CordovaHeyzap=s.CordovaHeyzap,t.GameDistributionAds=d.GameDistributionAds,t.Ima3=l.Ima3,function(e){e.CONTENT_PAUSED="onContentPaused",e.CONTENT_RESUMED="onContentResumed",e.AD_PROGRESSION="onAdProgression",e.AD_DISABLED="onAdsDisabled",e.AD_CLICKED="onAdClicked",e.AD_REWARDED="onAdRewardGranted",e.BANNER_SHOWN="onBannerShown",e.BANNER_HIDDEN="onBannerHidden"}(t.AdEvents||(t.AdEvents={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerActive=!1,t.provider=null,t}return r(t,e),t.prototype.setAdProvider=function(e){this.provider=e,this.provider.setManager(this)},t.prototype.showAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not request an ad without an provider, please attach an ad provider!");e[0],n.CocoonAdType.banner,this.provider.showAd.apply(this.provider,e)},t.prototype.preloadAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not preload an ad without an provider, please attach an ad provider!");this.provider.preloadAd.apply(this.provider,e)},t.prototype.destroyAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not destroy an ad without an provider, please attach an ad provider!");this.provider.destroyAd.apply(this.provider,e)},t.prototype.hideAd=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(null===this.provider)throw new Error("Can not hide an ad without an provider, please attach an ad provider!");this.unMuteAfterAd(),this.provider.hideAd.apply(this.provider,e)},t.prototype.adsEnabled=function(){return this.provider.adsEnabled},t.prototype.unMuteAfterAd=function(){},t}(i.EventEmitter);t.AdWrapper=u,t.adWrapper=new u}.apply(t,i))||(e.exports=o)},function(e,t,n){var i,o;i=[n,t,n(0)],void 0===(o=function(e,t,n){"use strict";var i,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.AdMob=0]="AdMob",e[e.MoPub=1]="MoPub",e[e.Chartboost=2]="Chartboost",e[e.Heyzap=3]="Heyzap"}(i=t.CocoonProvider||(t.CocoonProvider={})),function(e){e[e.banner=0]="banner",e[e.interstitial=1]="interstitial",e[e.insentive=2]="insentive"}(o=t.CocoonAdType||(t.CocoonAdType={}));var a=function(){function e(e,t){if(this.adsEnabled=!1,this.banner=null,this.bannerShowable=!1,this.interstitial=null,this.interstitialShowable=!1,this.insentive=null,this.insentiveShowable=!1,Cocoon&&Cocoon.Ad){switch(this.adsEnabled=!0,e){default:case i.AdMob:this.cocoonProvider=Cocoon.Ad.AdMob;break;case i.Chartboost:this.cocoonProvider=Cocoon.Ad.Chartboost;break;case i.Heyzap:this.cocoonProvider=Cocoon.Ad.Heyzap;break;case i.MoPub:this.cocoonProvider=Cocoon.Ad.MoPub}this.cocoonProvider.configure(t)}}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(e){if(!this.adsEnabled)return this.adManager.unMuteAfterAd(),void(e!==o.banner&&this.adManager.emit(n.AdEvents.CONTENT_RESUMED));if(e===o.banner){if(!this.bannerShowable||null===this.banner)return void this.adManager.unMuteAfterAd();this.adManager.emit(n.AdEvents.BANNER_SHOWN,this.banner.width,this.banner.height),this.adManager.bannerActive=!0,this.banner.show()}if(e===o.interstitial){if(!this.interstitialShowable||null===this.interstitial)return this.adManager.unMuteAfterAd(),void this.adManager.emit(n.AdEvents.CONTENT_RESUMED,o.interstitial);this.interstitial.show()}if(e===o.insentive){if(!this.insentiveShowable||null===this.insentive)return this.adManager.unMuteAfterAd(),void this.adManager.emit(n.AdEvents.CONTENT_RESUMED,o.insentive);this.insentive.show()}},e.prototype.preloadAd=function(e,t,i){var a=this;this.adsEnabled&&(this.destroyAd(e),e===o.banner&&(this.banner=this.cocoonProvider.createBanner(t),i&&this.banner.setLayout(i),this.banner.on("load",function(){a.bannerShowable=!0}),this.banner.on("fail",function(){a.bannerShowable=!1,a.banner=null}),this.banner.on("click",function(){a.adManager.emit(n.AdEvents.AD_CLICKED,o.banner)}),this.banner.on("show",function(){}),this.banner.on("dismiss",function(){}),this.banner.load()),e===o.interstitial&&(this.interstitial=this.cocoonProvider.createInterstitial(t),this.interstitial.on("load",function(){a.interstitialShowable=!0}),this.interstitial.on("fail",function(){a.interstitialShowable=!1,a.interstitial=null}),this.interstitial.on("click",function(){a.adManager.emit(n.AdEvents.AD_CLICKED,o.interstitial)}),this.interstitial.on("show",function(){a.adManager.emit(n.AdEvents.CONTENT_PAUSED,o.interstitial)}),this.interstitial.on("dismiss",function(){a.adManager.unMuteAfterAd(),a.adManager.emit(n.AdEvents.CONTENT_RESUMED,o.interstitial),a.interstitialShowable=!1,a.interstitial=null}),this.interstitial.load()),e===o.insentive&&(this.insentive=this.cocoonProvider.createRewardedVideo(t),this.insentive.on("load",function(){a.insentiveShowable=!0}),this.insentive.on("fail",function(){a.insentiveShowable=!1,a.insentive=null}),this.insentive.on("click",function(){a.adManager.emit(n.AdEvents.AD_CLICKED,o.insentive)}),this.insentive.on("show",function(){a.adManager.emit(n.AdEvents.CONTENT_PAUSED,o.insentive)}),this.insentive.on("dismiss",function(){a.adManager.unMuteAfterAd(),a.adManager.emit(n.AdEvents.CONTENT_RESUMED,o.insentive),a.insentiveShowable=!1,a.insentive=null}),this.insentive.on("reward",function(){a.adManager.unMuteAfterAd(),a.adManager.emit(n.AdEvents.AD_REWARDED,o.insentive),a.insentiveShowable=!1,a.insentive=null}),this.insentive.load()))},e.prototype.destroyAd=function(e){if(this.adsEnabled){if(e===o.banner&&null!==this.banner){try{this.cocoonProvider.releaseBanner(this.banner)}catch(e){}this.banner=null,this.bannerShowable=!1}e===o.interstitial&&null!==this.interstitial&&(this.cocoonProvider.releaseInterstitial(this.interstitial),this.interstitial=null,this.interstitialShowable=!1)}},e.prototype.hideAd=function(e){this.adsEnabled&&(e===o.interstitial&&null!==this.interstitial&&this.interstitial.hide(),e===o.banner&&null!==this.banner&&(this.adManager.bannerActive&&(this.adManager.bannerActive=!1,this.adManager.emit(n.AdEvents.BANNER_HIDDEN,this.banner.width,this.banner.height)),this.banner.hide()),e===o.insentive&&null!==this.insentive&&this.insentive.hide())},e}();t.CocoonAds=a}.apply(t,i))||(e.exports=o)},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty,o="~";function a(){}function r(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,i,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new r(n,i||e,a),d=o?o+t:t;return e._events[d]?e._events[d].fn?e._events[d]=[e._events[d],s]:e._events[d].push(s):(e._events[d]=s,e._eventsCount++),e}function d(e,t){0==--e._eventsCount?e._events=new a:delete e._events[t]}function l(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(o=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)i.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,r=new Array(a);i<a;i++)r[i]=n[i].fn;return r},l.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,i,a,r){var s=o?o+e:e;if(!this._events[s])return!1;var d,l,u=this._events[s],c=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),c){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,r),!0}for(l=1,d=new Array(c-1);l<c;l++)d[l-1]=arguments[l];u.fn.apply(u.context,d)}else{var h,A=u.length;for(l=0;l<A;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),c){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,n);break;case 4:u[l].fn.call(u[l].context,t,n,i);break;default:if(!d)for(h=1,d=new Array(c-1);h<c;h++)d[h-1]=arguments[h];u[l].fn.apply(u[l].context,d)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,i){var a=o?o+e:e;if(!this._events[a])return this;if(!t)return d(this,a),this;var r=this._events[a];if(r.fn)r.fn!==t||i&&!r.once||n&&r.context!==n||d(this,a);else{for(var s=0,l=[],u=r.length;s<u;s++)(r[s].fn!==t||i&&!r[s].once||n&&r[s].context!==n)&&l.push(r[s]);l.length?this._events[a]=1===l.length?l[0]:l:d(this,a)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&d(this,t)):(this._events=new a,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=o,l.EventEmitter=l,e.exports=l},function(e,t,n){var i,o;i=[n,t,n(0)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){void 0===n&&(n=!1),this.adsEnabled=!1,void 0===cordova.plugins||void 0!==cordova.plugins&&void 0===cordova.plugins.gdApi?console.log("gdApi not available!"):(n&&cordova.plugins.gdApi.enableTestAds(),this.setAdListeners(),cordova.plugins.gdApi.init([e,t],function(e){console.log("API init success!",e)},function(e){console.log("API init error!",e)}))}return e.prototype.setAdListeners=function(){var e=this;cordova.plugins.gdApi.setAdListener(function(t){switch(console.log("banner reply, data.event",t.event,t),t.event){case"BANNER_STARTED":e.adManager.emit(n.AdEvents.CONTENT_PAUSED);break;case"API_IS_READY":e.adsEnabled=!0;break;case"API_ALREADY_INITIALIZED":break;case"BANNER_CLOSED":case"API_NOT_READY":case"BANNER_FAILED":e.adManager.emit(n.AdEvents.CONTENT_RESUMED)}},function(t){console.log("Set listener error:",t),e.adsEnabled=!1})},e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(){var e=this;this.adsEnabled?(console.log("show banner called"),cordova.plugins.gdApi.showBanner(function(e){console.log("Show banner worked",e)},function(t){console.log("Could not show banner:",t),e.adManager.emit(n.AdEvents.CONTENT_RESUMED)})):(console.log("Ads not enabled, resuming"),this.adManager.emit(n.AdEvents.CONTENT_RESUMED))},e.prototype.preloadAd=function(){},e.prototype.destroyAd=function(){},e.prototype.hideAd=function(){},e}();t.CordovaGameDistribution=i}.apply(t,i))||(e.exports=o)},function(e,t,n){var i,o;i=[n,t,n(0)],void 0===(o=function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Interstitial=0]="Interstitial",e[e.Video=1]="Video",e[e.Rewarded=2]="Rewarded",e[e.Banner=3]="Banner"}(i=t.HeyzapAdTypes||(t.HeyzapAdTypes={}));var o=function(){function e(e){var t=this;this.adsEnabled=!1,this.adsEnabled=!0,HeyzapAds.start(e).then(function(){},function(e){t.adsEnabled=!1})}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(e,t){var o=this;switch(this.adsEnabled||(this.adManager.unMuteAfterAd(),this.adManager.emit(n.AdEvents.CONTENT_RESUMED)),e){case i.Interstitial:HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.HIDE,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.InterstitialAd.Events.HIDE)}),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.SHOW_FAILED,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.InterstitialAd.Events.SHOW_FAILED)}),HeyzapAds.InterstitialAd.addEventListener(HeyzapAds.InterstitialAd.Events.CLICKED,function(){o.adManager.emit(n.AdEvents.AD_CLICKED,HeyzapAds.InterstitialAd.Events.CLICKED)}),HeyzapAds.InterstitialAd.show().then(function(){o.adManager.emit(n.AdEvents.CONTENT_PAUSED)},function(e){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED)});break;case i.Video:HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.HIDE,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.VideoAd.Events.HIDE)}),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.SHOW_FAILED,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.VideoAd.Events.SHOW_FAILED)}),HeyzapAds.VideoAd.addEventListener(HeyzapAds.VideoAd.Events.CLICKED,function(){o.adManager.emit(n.AdEvents.AD_CLICKED,HeyzapAds.VideoAd.Events.CLICKED)}),HeyzapAds.VideoAd.show().then(function(){o.adManager.emit(n.AdEvents.CONTENT_PAUSED)},function(e){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED)});break;case i.Rewarded:HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.HIDE,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.IncentivizedAd.Events.HIDE)}),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.SHOW_FAILED,function(){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED,HeyzapAds.IncentivizedAd.Events.SHOW_FAILED)}),HeyzapAds.IncentivizedAd.addEventListener(HeyzapAds.IncentivizedAd.Events.CLICKED,function(){o.adManager.emit(n.AdEvents.AD_CLICKED,HeyzapAds.IncentivizedAd.Events.CLICKED)}),HeyzapAds.IncentivizedAd.show().then(function(){o.adManager.emit(n.AdEvents.CONTENT_PAUSED)},function(e){o.adManager.unMuteAfterAd(),o.adManager.emit(n.AdEvents.CONTENT_RESUMED)});break;case i.Banner:HeyzapAds.BannerAd.show(t).then(function(){},function(e){})}},e.prototype.preloadAd=function(e){this.adsEnabled&&e===i.Rewarded&&HeyzapAds.IncentivizedAd.fetch().then(function(){},function(e){})},e.prototype.destroyAd=function(e){this.adsEnabled&&e===i.Banner&&HeyzapAds.BannerAd.destroy().then(function(){},function(e){})},e.prototype.hideAd=function(e){this.adsEnabled&&e===i.Banner&&HeyzapAds.BannerAd.hide().then(function(){},function(e){})},e}();t.CordovaHeyzap=o}.apply(t,i))||(e.exports=o)},function(e,t,n){var i,o;i=[n,t,n(0)],void 0===(o=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var i,o,a,r,s,d=this;this.adsEnabled=!0,this.areAdsEnabled(),window.GD_OPTIONS={gameId:e,userId:t,advertisementSettings:{autoplay:!1},onEvent:function(e){switch(e.name){case"SDK_GAME_START":"undefined"!=typeof gdApi&&gdApi.play(),d.adManager.unMuteAfterAd(),d.adManager.emit(n.AdEvents.CONTENT_RESUMED);break;case"SDK_GAME_PAUSE":d.adManager.emit(n.AdEvents.CONTENT_PAUSED)}}},i=document,o="script",a="gamedistribution-jssdk",s=i.getElementsByTagName(o)[0],i.getElementById(a)||((r=i.createElement(o)).id=a,r.src="//html5.api.gamedistribution.com/main.min.js",s.parentNode.insertBefore(r,s))}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(){if(this.adsEnabled){if("undefined"==typeof gdApi||gdApi&&void 0===gdApi.showBanner)return this.adsEnabled=!1,this.adManager.unMuteAfterAd(),void this.adManager.emit(n.AdEvents.CONTENT_RESUMED);gdApi.showBanner()}else this.adManager.unMuteAfterAd(),this.adManager.emit(n.AdEvents.CONTENT_RESUMED)},e.prototype.preloadAd=function(){},e.prototype.destroyAd=function(){},e.prototype.hideAd=function(){},e.prototype.areAdsEnabled=function(){var e=this,t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",t.style.position="absolute",t.style.fontSize="10px",document.body.appendChild(t);window.setTimeout(function(){var n;e.adsEnabled=(n=!0,0===t.offsetHeight&&(n=!1),t.parentNode.removeChild(t),n)},100)},e}();t.GameDistributionAds=i}.apply(t,i))||(e.exports=o)},function(e,t,n){var i,o;i=[n,t,n(0)],void 0===(o=function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.start=0]="start",e[e.firstQuartile=1]="firstQuartile",e[e.midPoint=2]="midPoint",e[e.thirdQuartile=3]="thirdQuartile",e[e.complete=4]="complete"}(i||(i={}));var o=function(){function e(e,t){this.adsManager=null,this.googleEnabled=!1,this.adsEnabled=!0,this.adTagUrl="",this.adRequested=!1,this.adManager=null,this.resizeListener=null,this.areAdsEnabled(),"undefined"!=typeof google&&(this.googleEnabled=!0,this.gameContent="string"==typeof e.parentElement?document.getElementById(e.parentElement):e.parentElement,this.gameContent.style.position="absolute",this.gameContent.style.width="100%",this.adContent=this.gameContent.parentNode.appendChild(document.createElement("div")),this.adContent.id="phaser-ad-container",this.adContent.style.position="absolute",this.adContent.style.zIndex="9999",this.adContent.style.display="none",this.adContent.style.top="0",this.adContent.style.left="0",this.adContent.style.width="100%",this.adContent.style.height="100%",this.adContent.style.overflow="hidden",this.adTagUrl=t,this.adDisplay=new google.ima.AdDisplayContainer(this.adContent),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale("nl"),this.adLoader=new google.ima.AdsLoader(this.adDisplay),this.adLoader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdManagerLoader,!1,this),this.adLoader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this))}return e.prototype.setManager=function(e){this.adManager=e},e.prototype.showAd=function(e){if(console.log("Ad Requested"),!this.adRequested)if(this.adsEnabled||this.adManager.emit(n.AdEvents.AD_DISABLED,!0),this.googleEnabled){this.adDisplay.initialize();var t=new google.ima.AdsRequest;t.adTagUrl=this.adTagUrl+this.parseCustomParams(e);var i=window.innerWidth,o=window.innerHeight;document.body.clientHeight<window.innerHeight&&(o=document.body.clientHeight,i=document.body.clientWidth),t.linearAdSlotWidth=i,t.linearAdSlotHeight=o,t.nonLinearAdSlotWidth=i,t.nonLinearAdSlotHeight=o,t.forceNonLinearFullSlot=!0;try{this.adRequested=!0,this.adLoader.requestAds(t)}catch(e){console.log(e),this.onContentResumeRequested()}}else this.onContentResumeRequested()},e.prototype.preloadAd=function(){},e.prototype.destroyAd=function(){},e.prototype.hideAd=function(){},e.prototype.onAdManagerLoader=function(e){var t=this;console.log("AdsManager loaded");var n=new google.ima.AdsRenderingSettings;n.restoreCustomPlaybackStateOnAdBreakComplete=!0;var i=e.getAdsManager(this.gameContent,n);this.adsManager=i,console.log(i.isCustomClickTrackingUsed()),i.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested,!1,this),i.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested,!1,this),i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError,!1,this),[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE].forEach(function(e){i.addEventListener(e,t.onAdEvent,!1,t)});try{this.adContent.style.display="block";var o=window.innerWidth,a=window.innerHeight;this.adsManager.init(o,a,google.ima.ViewMode.NORMAL),this.adsManager.start(),this.resizeListener=function(){null!==t.adsManager&&(console.log("Resizing ad size"),t.adsManager.resize(window.innerWidth,window.innerHeight,google.ima.ViewMode.NORMAL))},window.addEventListener("resize",this.resizeListener)}catch(e){console.log("Adsmanager error:",e),this.onAdError(e)}},e.prototype.onAdEvent=function(e){switch(console.log("onAdEvent",e),e.type){case google.ima.AdEvent.Type.CLICK:this.adManager.emit(n.AdEvents.AD_CLICKED);break;case google.ima.AdEvent.Type.LOADED:this.adRequested=!1;var t=e.getAd();console.log("is ad linear?",t.isLinear()),t.isLinear()||this.onContentResumeRequested();break;case google.ima.AdEvent.Type.STARTED:this.adManager.emit(n.AdEvents.AD_PROGRESSION,i.start);break;case google.ima.AdEvent.Type.FIRST_QUARTILE:this.adManager.emit(n.AdEvents.AD_PROGRESSION,i.firstQuartile);break;case google.ima.AdEvent.Type.MIDPOINT:this.adManager.emit(n.AdEvents.AD_PROGRESSION,i.midPoint);break;case google.ima.AdEvent.Type.THIRD_QUARTILE:this.adManager.emit(n.AdEvents.AD_PROGRESSION,i.thirdQuartile);break;case google.ima.AdEvent.Type.COMPLETE:this.adManager.emit(n.AdEvents.AD_PROGRESSION,i.complete);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:this.onContentResumeRequested()}},e.prototype.onAdError=function(e){console.log("gneric ad error",e),null!==this.adsManager&&(this.adsManager.destroy(),this.adsManager=null,null!==this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)),this.adRequested&&(this.adRequested=!1),this.onContentResumeRequested()},e.prototype.onContentPauseRequested=function(){console.log("onContentPauseRequested",arguments),this.adManager.emit(n.AdEvents.CONTENT_PAUSED)},e.prototype.onContentResumeRequested=function(){if(console.log("onContentResumeRequested",arguments),"undefined"==typeof google)return this.adManager.unMuteAfterAd(),void this.adManager.emit(n.AdEvents.CONTENT_RESUMED);this.adContent.style.display="none",this.adManager.unMuteAfterAd(),this.adManager.emit(n.AdEvents.CONTENT_RESUMED)},e.prototype.parseCustomParams=function(e){if(void 0!==e){var t="";for(var n in e){if(e.hasOwnProperty(n))t.length>0&&(t+="&"),t+=n+"="+(Array.isArray(e[n])?e[n].join(","):e[n])}return"&cust_params="+encodeURIComponent(t)}return""},e.prototype.areAdsEnabled=function(){var e=this,t=document.createElement("div");t.innerHTML="&nbsp;",t.className="adsbox",t.style.position="absolute",t.style.fontSize="10px",document.body.appendChild(t);window.setTimeout(function(){var n;e.adsEnabled=(n=!0,0===t.offsetHeight&&(n=!1),t.parentNode.removeChild(t),n)},100)},e}();t.Ima3=o}.apply(t,i))||(e.exports=o)}])});
//# sourceMappingURL=h5-ad-wrapper.min.js.map